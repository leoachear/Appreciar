<section id="alta-producto" ng-cloak> <!-- ng-controller="FinderController as ctrl" -->

    <h3>Sobre qué producto querés postear???</h3>

    <!-- AUTOCOMPLETE -->
    <md-content class="md-padding" style="height:500px;">
      <form ng-submit="$event.preventDefault()">
        <md-autocomplete
        ng-disabled="isDisabled"
        md-no-cache="noCache"
        md-selected-item="selectedItem"
        md-search-text-change="searchTextChange(searchText)"
        md-search-text="searchText"
        md-selected-item-change="selectedItemChange(item)"
        md-items="item in querySearch(searchText)"
        md-item-text="item.display"
        md-min-length="3"
        placeholder="Seleccionar Producto">
          <md-item-template>
          <span md-highlight-text="searchText" md-highlight-flags="^i">{{item.display}}</span>
          </md-item-template>
          <md-not-found>
          El producto "{{searchText}}" no está en nuestra lista.
          <a ng-click="newState(searchText)">Quiero crearlo</a>
          </md-not-found>
        </md-autocomplete>
      </form>

      <div layout="column" layout-align="center center">
          <md-select placeholder="Seleccione el Producto" ng-model="producto_seleccionado" md-on-open="loadProductos()" style="min-width: 200px;">
            <md-option ng-value="producto" ng-repeat="producto in productosDesplegable">{{producto.nombre}}</md-option>
          </md-select>
          <p class="md-caption">Seleccionaste el producto: {{ producto_seleccionado ? producto_seleccionado : 'Ninguna' }}</p>
          <p>Id de producto:  {{producto_seleccionado}}</p>
      </div>

      <button onclick="location.href='#/mapaForm.html'" id="seguir" style="margin-top:1em;" class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored">
        <i class="material-icons">keyboard_arrow_right
        </i>
      </button>
      <div class="mdl-tooltip mdl-tooltip--large" for="seguir">Continuar</div>
    </md-content>


    <!-- Productos que se van filtrando?...... -->
    <md-content class="md-padding layout-row" layout-xs="column" layout-wrap ng-cloak>
      <div flex="auto">
        <!-- ng-repeat="prod in productosBuscar"  -->
        <!-- <product-card producto=seleccionado</product-card> -->
      </div>
    </md-content>

</section>